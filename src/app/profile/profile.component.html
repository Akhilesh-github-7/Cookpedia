<div class="profile-container container py-5">
  <div class="row g-5">
    <!-- Profile Sidebar -->
    <div class="col-lg-4">
      <mat-card class="profile-card shadow text-center p-4 sticky-lg-top" style="top: 100px;">
        <div class="profile-header mb-4">
          <div class="image-container position-relative mx-auto">
            <img [src]="profileImage" alt="Profile" class="profile-img rounded-circle border border-3 border-success">
            <label class="upload-overlay rounded-circle d-flex align-items-center justify-content-center">
              <input (change)="getfile($event)" type="file" style="display: none;" accept="image/*">
              <mat-icon class="text-white">camera_alt</mat-icon>
            </label>
          </div>
          <h2 class="mt-3 mb-1 fw-bold">{{userName}}</h2>
          <p class="text-muted">Food Enthusiast</p>
        </div>
        
        <mat-divider class="mb-4"></mat-divider>
        
        <button mat-raised-button color="primary" class="w-100 py-2 rounded-pill" (click)="updateProfile()">
          Update Profile
        </button>
      </mat-card>
    </div>

    <!-- Main Content -->
    <div class="col-lg-8">
      <div class="d-flex align-items-center justify-content-between mb-4">
        <h2 class="section-title mb-0">
          <mat-icon class="me-2 text-success">cloud_download</mat-icon> Downloaded Recipes
        </h2>
        <span class="badge bg-success-subtle text-success border border-success px-3 py-2 rounded-pill">
          {{allUserDownloadList.length}} Downloads
        </span>
      </div>

      <div class="row g-4">
        @if (allUserDownloadList.length > 0) {
          @for (recipe of allUserDownloadList; track $index) {
            <div class="col-md-6 col-xl-4">
              <mat-card class="recipe-card h-100 border-0 shadow-sm">
                <div class="card-img-wrapper position-relative overflow-hidden">
                  <img mat-card-image [src]="recipe.recipeImage" [alt]="recipe.recipeName" class="recipe-img w-100">
                  <div class="overlay"></div>
                </div>
                <mat-card-content class="p-3">
                  <h6 class="card-title text-truncate mb-1" [matTooltip]="recipe.recipeName">{{ recipe.recipeName }}</h6>
                  <p class="small text-muted mb-0">{{recipe.recipeCuisine}} Cuisine</p>
                </mat-card-content>
              </mat-card>
            </div>
          }
        } @else {
          <div class="col-12 text-center py-5">
            <div class="empty-state p-5 bg-white rounded-4 shadow-sm">
              <mat-icon class="display-1 text-muted mb-3 opacity-25">kitchen</mat-icon>
              <h4 class="text-muted">No Recipes Downloaded Yet</h4>
              <p class="text-muted mb-4">Start exploring and download your favorite recipes!</p>
              <button mat-stroked-button color="primary" routerLink="/all-recipes">Explore Recipes</button>
            </div>
          </div>
        }
      </div>
    </div>
  </div>
</div>

