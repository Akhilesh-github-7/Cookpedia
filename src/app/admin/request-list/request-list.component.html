<div class="row w-100">
    <div class="col-lg-2 bg-success">
        <app-sidebar></app-sidebar>

    </div>
    <div class="col-lg-10">
        <h1>All User Testimony Request</h1>
        <table class="table my-5 shadow">
            <thead>
                <tr>
                    <th>#</th>
                    <th>User Name</th>
                    <th>Email</th>
                    <th>Feedback</th>
                    <th>Status</th>
                </tr>

            </thead>
            <tbody>
                @for (item of allfeedbacks; track $index;let i=$index) {
                    <tr>
                        <td>{{i+1}}</td>
                        <td>{{item.name}}</td>
                        <td>{{item.email}}</td>
                        <td>{{item.message}}</td>
                        <td>
                            @if (item.status=='Pending') {
                                <div class="d-flex">
                                    <button (click)="updateFeedbackStatus(item._id,'Approved')" class="btn btn-success"><i class="fa-solid fa-check"></i></button>
                                    <button (click)="updateFeedbackStatus(item._id,'Rejected')" class="btn btn-danger"><i class="fa-solid fa-x ms-2"></i></button>
                                </div>
                            }@else if (item.status=='Approved') {
                                <button class="btn btn-success">Approved</button>
                            }
                            @else {
                                <button class="btn btn-danger">Rejected</button>
                            }
                        </td>
                    </tr>
                }
            </tbody>

        </table>

    </div>

</div>
